# ЧЕК-ЛИСТ ПО РЕАЛИЗАЦИИ ОРГСТРУКТУРЫ

## Подготовка БД (Схема данных)

- [x] Добавить тип "BOARD" в допустимые значения `org_type` в таблице `organizations`
- [x] Добавить дополнительные типы отношений в `functional_relations`:
  - [x] "STRATEGIC" (для стратегического управления)
  - [x] "GOVERNANCE" (для корпоративного управления)
  - [x] "ADVISORY" (для консультативного управления)
  - [x] "SUPERVISORY" (для надзорного управления)
- [x] Добавить недостающие поля для расширения во все таблицы:
  - [x] extra_field1, extra_field2, extra_field3 (TEXT)
  - [x] extra_int1, extra_int2 (INTEGER)
  - [x] extra_date1 (DATE)

## Наполнение справочников

### Управляющие органы

- [x] Создать запись "Совет учредителей" в `organizations` с типом "BOARD"
- [x] Создать должности в `positions`:
  - [x] "Генеральный директор"
  - [x] "Финансовый директор"
  - [x] "Коммерческий директор"
  - [x] "Технический директор"
  - [x] "Руководитель департамента" (несколько)
  - [x] "Руководитель отдела" (несколько)
  - [x] "Член совета учредителей" (несколько)

### Основная структура

- [x] Создать базовые организации в `organizations`:
  - [x] Холдинг ("OFS Global", тип: "HOLDING")
  - [x] Юр. лица (несколько, тип: "LEGAL_ENTITY")
  - [x] Локации/офисы (несколько, тип: "LOCATION")

- [x] Создать департаменты в `divisions`:
  - [x] Финансовый департамент
  - [x] Коммерческий департамент
  - [x] ИТ-департамент
  - [x] HR-департамент
  - [x] И т.д.

- [x] Создать отделы в `sections`:
  - [x] Отдел бухгалтерии
  - [x] Отдел продаж
  - [x] Отдел разработки
  - [x] Отдел тестирования
  - [x] И т.д.

- [x] Создать функции в `functions`:
  - [x] Управление финансами
  - [x] Продажи
  - [x] Разработка ПО
  - [x] Тестирование
  - [x] И т.д.

- [x] Создать рядовые должности в `positions`:
  - [x] Бухгалтер
  - [x] Менеджер по продажам
  - [x] Разработчик
  - [x] Тестировщик
  - [x] И т.д.

## Связывание сущностей

- [x] Связать департаменты с организациями:
  - [x] Добавить записи с указанием `division.organization_id`

- [x] Связать отделы с департаментами:
  - [x] Добавить записи в `division_sections`

- [x] Связать функции с отделами:
  - [x] Добавить записи в `section_functions`

- [x] Связать должности с функциями:
  - [x] Установить `position.function_id`

## Создание сотрудников и их позиций

- [x] Создать тестовых сотрудников в `staff`:
  - [x] Генеральный директор
  - [x] Директора (несколько)
  - [x] Руководители департаментов
  - [x] Руководители отделов
  - [x] Рядовые сотрудники

- [x] Назначить сотрудникам должности:
  - [x] Добавить записи в `staff_positions` с указанием основной должности (`is_primary=true`) для высшего руководства
  - [x] Добавить дополнительные должности для некоторых сотрудников

- [x] Указать местоположение сотрудников:
  - [x] Добавить записи в `staff_locations`

- [x] Назначить функциональные обязанности:
  - [x] Добавить записи в `staff_functions` с указанием процента занятости

## Создание функциональных отношений

### Установка функциональных отношений
- [x] Создание иерархических отношений:
  - [x] GOVERNANCE между Советом учредителей и Генеральным директором
  - [x] ADMINISTRATIVE между Генеральным директором и директорами
  - [x] ADMINISTRATIVE между директорами и руководителями департаментов
  - [x] ADMINISTRATIVE между руководителями департаментов и руководителями отделов
- [x] Создание матричных отношений:
  - [x] FUNCTIONAL между руководителями функциональных направлений и сотрудниками
  - [x] REPORTING между сотрудниками проектов и руководителями проектов

## Модификация API

- [x] Доработка API для работы с новыми типами отношений
- [x] Добавление специальных запросов для получения:
  - [x] Организационной структуры компании
  - [x] Матрицы функциональных отношений
  - [x] Графа подчинения

## Тестирование

- [x] Проверить корректность всех связей в БД
- [x] Протестировать API-запросы для всех типов связей
- [x] Убедиться в работоспособности множественных назначений и матричной структуры

## Документирование

- [x] Обновить документацию API с учетом новых типов связей
- [x] Подготовить примеры запросов для различных сценариев
- [x] Задокументировать правила построения оргструктуры 