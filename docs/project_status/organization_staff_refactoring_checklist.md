# üî• –ß–µ–∫–ª–∏—Å—Ç –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –º–æ–¥–µ–ª–µ–π Organization –∏ Staff

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- [ ] –°–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–¥–∞ (–Ω–∞ –≤—Å—è–∫–∏–π)
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ git
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ç–∫—É –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

## üóë –û—á–∏—Å—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [ ] –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
  ```powershell
  Remove-Item -Path backend/alembic/versions/* -Force
  ```
- [ ] –î—Ä–æ–ø–Ω—É—Ç—å –±–∞–∑—É –∏ —Å–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ:
  ```sql
  DROP DATABASE IF EXISTS ofs_db_new;
  CREATE DATABASE ofs_db_new;
  ```
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `alembic.ini` –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –±–∞–∑—ã
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Å–µ—Å—Å–∏–∏ PostgreSQL –∑–∞–∫—Ä—ã—Ç—ã

## üèó –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π

### üì¶ Organization
- [ ] –°–æ–∑–¥–∞—Ç—å Enum –∫–ª–∞—Å—Å –¥–ª—è org_type:
  ```python
  class OrgType(str, Enum):
      HOLDING = "holding"
      LEGAL_ENTITY = "legal_entity"
      LOCATION = "location"
  ```
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª–µ org_type –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Enum
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å self-referential —Å–≤—è–∑—å —á–µ—Ä–µ–∑ parent_id
- [ ] –£–±—Ä–∞—Ç—å viewonly=True –∏–∑ relationship —Å–æ Staff
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –≤—Å–µ –ø–æ–ª—è, —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤ –ø–æ–∏—Å–∫–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è –∞—É–¥–∏—Ç–∞ (created_at, updated_at)

### üë• Staff
- [ ] –£–±—Ä–∞—Ç—å –ø–æ–ª–µ division (—Å—Ç—Ä–æ–∫–∞)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è:
  - [ ] legal_entity_id (ForeignKey -> Organization)
  - [ ] location_id (ForeignKey -> Organization)
  - [ ] division_id (ForeignKey -> Division)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å relationship:
  ```python
  legal_entity = relationship("Organization", foreign_keys=[legal_entity_id])
  location = relationship("Organization", foreign_keys=[location_id])
  division = relationship("Division")
  ```
- [ ] –£–±—Ä–∞—Ç—å @property organization
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

### üîó OrganizationStaffLink
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è:
  - [ ] link_type (—Ç–∏–ø —Å–≤—è–∑–∏)
  - [ ] created_at
  - [ ] updated_at
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ondelete
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å

### üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏ (staff_functions)
- [ ] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É staff_functions
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –û—Ç–ª–æ–∂–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ –≤—Ç–æ—Ä–æ–π —ç—Ç–∞–ø

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Pydantic —Å—Ö–µ–º

### üì¶ Organization Schemas
- [ ] –û–±–Ω–æ–≤–∏—Ç—å OrganizationBase:
  - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Enum –¥–ª—è org_type
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π
- [ ] –û–±–Ω–æ–≤–∏—Ç—å OrganizationCreate
- [ ] –û–±–Ω–æ–≤–∏—Ç—å OrganizationUpdate
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –£—á–µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### üë• Staff Schemas
- [ ] –û–±–Ω–æ–≤–∏—Ç—å StaffBase:
  - [ ] –£–±—Ä–∞—Ç—å –ø–æ–ª–µ division
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è (legal_entity_id, location_id)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å—Ö–µ–º–∞–º–∏

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é:
  ```powershell
  alembic revision --autogenerate -m "Complete refactoring of Organization and Staff models"
  ```
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞:
  - [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
  - [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏
  - [ ] –ù–∞–ª–∏—á–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:
  ```powershell
  alembic upgrade head
  ```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üîç –ë–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ Organization —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ Staff —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∏–≤—è–∑–∫–∞–º–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏

### üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [ ] –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

### üìä –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –±—É–¥—É—â–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ API
- [ ] –û–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
  ```sql
  -- –ü—Ä–∏–º–µ—Ä—ã —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
  -- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –æ—Ç–¥–µ–ª–∞
  -- –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π
  -- –∏ —Ç.–¥.
  ```

## üéØ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (Phase 2)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å staff_functions:
  - [ ] –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
  - [ ] –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤—è–∑–µ–π
  - [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:
  - [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
  - [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤
- [ ] –°–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
  - [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
  - [ ] –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- [ ] –°–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø —É—Å–ø–µ—à–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [ ] ‚ö†Ô∏è **–ù–ê–ü–û–ú–ò–ù–ê–õ–ö–ê**: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é 