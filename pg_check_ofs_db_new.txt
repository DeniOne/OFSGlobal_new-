Успешное подключение к базе данных ofs_db_new на сервере localhost

В базе данных найдено 20 таблиц:
===== Таблица: alembic_version =====
Столбцы:
  - version_num (character varying) NOT NULL
Количество записей: 1
Первичные ключи: version_num
Примеры данных:
  {'version_num': '095344ece7d9'}

===== Таблица: division_sections =====
Столбцы:
  - id (integer) NOT NULL
  - division_id (integer) NULLABLE
  - section_id (integer) NULLABLE
  - is_primary (integer) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
  - created_at (timestamp without time zone) NULLABLE
Количество записей: 0
Первичные ключи: id

===== Таблица: divisions =====
Столбцы:
  - id (integer) NOT NULL
  - name (character varying) NOT NULL
  - code (character varying) NOT NULL
  - description (text) NULLABLE
  - is_active (boolean) NULLABLE
  - level (integer) NOT NULL
  - ckp (character varying) NULLABLE
  - organization_id (integer) NOT NULL
  - parent_id (integer) NULLABLE
  - created_at (timestamp with time zone) NOT NULL
  - updated_at (timestamp with time zone) NOT NULL
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
Количество записей: 0
Первичные ключи: id
Внешние ключи:
  - organization_id -> organizations.id
  - parent_id -> divisions.id

===== Таблица: functional_assignments =====
Столбцы:
  - id (integer) NOT NULL
  - position_id (integer) NULLABLE
  - function_id (integer) NULLABLE
  - percentage (integer) NULLABLE
  - is_primary (boolean) NULLABLE
  - created_at (timestamp without time zone) NULLABLE
  - updated_at (timestamp without time zone) NULLABLE
Количество записей: 0
Первичные ключи: id

===== Таблица: functional_relations =====
Столбцы:
  - id (integer) NOT NULL
  - manager_id (integer) NOT NULL
  - subordinate_id (integer) NOT NULL
  - relation_type (character varying) NOT NULL
  - description (text) NULLABLE
  - created_at (timestamp with time zone) NOT NULL
  - updated_at (timestamp with time zone) NOT NULL
  - is_active (integer) NULLABLE
  - start_date (date) NULLABLE
  - end_date (date) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
Количество записей: 0
Первичные ключи: id
Внешние ключи:
  - manager_id -> staff.id
  - subordinate_id -> staff.id

===== Таблица: functions =====
Столбцы:
  - id (integer) NOT NULL
  - name (character varying) NOT NULL
  - code (character varying) NOT NULL
  - description (text) NULLABLE
  - is_active (boolean) NULLABLE
  - section_id (integer) NULLABLE
  - created_at (timestamp with time zone) NOT NULL
  - updated_at (timestamp with time zone) NOT NULL
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
Количество записей: 3
Первичные ключи: id
Внешние ключи:
  - section_id -> sections.id
Примеры данных:
  {'id': 1, 'name': 'Найм сотрудников', 'code': '0000001', 'description': None, 'is_active': True, 'section_id': None, 'created_at': datetime.datetime(2025, 4, 8, 7, 36, 30, 929936, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 4, 8, 7, 36, 30, 929936, tzinfo=datetime.timezone.utc), 'extra_field1': None, 'extra_field2': None, 'extra_field3': None, 'extra_int1': None, 'extra_int2': None, 'extra_date1': None}
  {'id': 2, 'name': 'Разработка Ботов', 'code': '0000002', 'description': None, 'is_active': True, 'section_id': None, 'created_at': datetime.datetime(2025, 4, 8, 10, 58, 5, 939469, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 4, 8, 10, 58, 5, 939469, tzinfo=datetime.timezone.utc), 'extra_field1': None, 'extra_field2': None, 'extra_field3': None, 'extra_int1': None, 'extra_int2': None, 'extra_date1': None}

===== Таблица: hierarchy_relations =====
Столбцы:
  - id (integer) NOT NULL
  - superior_position_id (integer) NULLABLE
  - subordinate_position_id (integer) NULLABLE
  - priority (integer) NULLABLE
  - is_active (integer) NULLABLE
  - description (text) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - created_at (timestamp without time zone) NULLABLE
  - updated_at (timestamp without time zone) NULLABLE
Количество записей: 5
Первичные ключи: id
Примеры данных:
  {'id': 11, 'superior_position_id': 16, 'subordinate_position_id': 17, 'priority': 1, 'is_active': 1, 'description': 'Подчинение Директор генеральному директору', 'extra_field1': None, 'extra_field2': None, 'extra_int1': None, 'created_at': datetime.datetime(2025, 4, 8, 19, 3, 7), 'updated_at': datetime.datetime(2025, 4, 8, 19, 3, 7)}
  {'id': 12, 'superior_position_id': 16, 'subordinate_position_id': 18, 'priority': 1, 'is_active': 1, 'description': 'Подчинение Руководитель департамента генеральному директору', 'extra_field1': None, 'extra_field2': None, 'extra_int1': None, 'created_at': datetime.datetime(2025, 4, 8, 19, 3, 7), 'updated_at': datetime.datetime(2025, 4, 8, 19, 3, 7)}

===== Таблица: item =====
Столбцы:
  - id (integer) NOT NULL
  - title (character varying) NULLABLE
  - description (character varying) NULLABLE
  - is_active (boolean) NULLABLE
  - owner_id (integer) NULLABLE
Количество записей: 0
Первичные ключи: id
Внешние ключи:
  - owner_id -> user.id

===== Таблица: organizations =====
Столбцы:
  - id (integer) NOT NULL
  - name (character varying) NOT NULL
  - code (character varying) NOT NULL
  - description (text) NULLABLE
  - is_active (boolean) NULLABLE
  - org_type (USER-DEFINED) NOT NULL
  - ckp (character varying) NULLABLE
  - inn (character varying) NULLABLE
  - kpp (character varying) NULLABLE
  - legal_address (character varying) NULLABLE
  - physical_address (character varying) NULLABLE
  - parent_id (integer) NULLABLE
  - created_at (timestamp with time zone) NOT NULL
  - updated_at (timestamp with time zone) NOT NULL
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
Количество записей: 0
Первичные ключи: id
Внешние ключи:
  - parent_id -> organizations.id

===== Таблица: position =====
Столбцы:
  - id (integer) NOT NULL
  - name (character varying) NOT NULL
  - description (text) NULLABLE
  - is_active (boolean) NULLABLE
Количество записей: 0
Первичные ключи: id

===== Таблица: position_functions =====
Столбцы:
  - position_id (integer) NULLABLE
  - function_id (integer) NULLABLE
Количество записей: 3
Примеры данных:
  {'position_id': 7, 'function_id': 2}
  {'position_id': 6, 'function_id': 2}

===== Таблица: positions =====
Столбцы:
  - id (integer) NOT NULL
  - name (text) NULLABLE
  - description (text) NULLABLE
  - is_active (integer) NULLABLE
  - attribute (text) NULLABLE
  - division_id (integer) NULLABLE
  - section_id (integer) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
  - created_at (timestamp without time zone) NULLABLE
  - updated_at (timestamp without time zone) NULLABLE
Количество записей: 7
Первичные ключи: id
Примеры данных:
  {'id': 16, 'name': 'Генеральный директор', 'description': 'Руководитель компании', 'is_active': 1, 'attribute': 'Директор Направления', 'division_id': None, 'section_id': None, 'extra_field1': None, 'extra_field2': None, 'extra_field3': None, 'extra_int1': None, 'extra_int2': None, 'extra_date1': None, 'created_at': datetime.datetime(2025, 4, 8, 19, 3, 7), 'updated_at': datetime.datetime(2025, 4, 8, 19, 11, 38)}
  {'id': 17, 'name': 'Финансовый директор', 'description': 'Руководитель финансового департамента', 'is_active': 1, 'attribute': 'Директор Направления', 'division_id': 1, 'section_id': None, 'extra_field1': None, 'extra_field2': None, 'extra_field3': None, 'extra_int1': None, 'extra_int2': None, 'extra_date1': None, 'created_at': datetime.datetime(2025, 4, 8, 19, 3, 7), 'updated_at': datetime.datetime(2025, 4, 8, 19, 11, 38)}

===== Таблица: section_functions =====
Столбцы:
  - id (integer) NOT NULL
  - section_id (integer) NULLABLE
  - function_id (integer) NULLABLE
  - is_primary (integer) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
  - created_at (timestamp without time zone) NULLABLE
Количество записей: 0
Первичные ключи: id

===== Таблица: sections =====
Столбцы:
  - id (integer) NOT NULL
  - name (character varying) NOT NULL
  - code (character varying) NOT NULL
  - description (text) NULLABLE
  - is_active (boolean) NULLABLE
  - division_id (integer) NOT NULL
  - created_at (timestamp with time zone) NOT NULL
  - updated_at (timestamp with time zone) NOT NULL
  - ckp (text) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
Количество записей: 0
Первичные ключи: id
Внешние ключи:
  - division_id -> divisions.id

===== Таблица: staff =====
Столбцы:
  - id (integer) NOT NULL
  - user_id (integer) NULLABLE
  - first_name (character varying) NOT NULL
  - last_name (character varying) NOT NULL
  - middle_name (character varying) NULLABLE
  - email (character varying) NULLABLE
  - phone (character varying) NULLABLE
  - photo_url (character varying) NULLABLE
  - is_active (boolean) NULLABLE
  - created_at (timestamp with time zone) NOT NULL
  - updated_at (timestamp with time zone) NOT NULL
  - description (text) NULLABLE
  - organization_id (integer) NULLABLE
  - primary_organization_id (integer) NULLABLE
  - location_id (integer) NULLABLE
  - registration_address (text) NULLABLE
  - actual_address (text) NULLABLE
  - telegram_id (text) NULLABLE
  - vk (text) NULLABLE
  - instagram (text) NULLABLE
  - photo_path (text) NULLABLE
  - document_paths (text) NULLABLE
Количество записей: 2
Первичные ключи: id
Внешние ключи:
  - user_id -> user.id
Примеры данных:
  {'id': 1, 'user_id': None, 'first_name': 'Денис', 'last_name': 'Говако', 'middle_name': 'Евгеньевич', 'email': 'denisgovako@gmail.com', 'phone': '+7 993 506 07 08', 'photo_url': None, 'is_active': True, 'created_at': datetime.datetime(2025, 4, 8, 7, 39, 15, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 4, 15, 22, 2, 5, tzinfo=datetime.timezone.utc), 'description': None, 'organization_id': 1, 'primary_organization_id': None, 'location_id': 2, 'registration_address': None, 'actual_address': None, 'telegram_id': '@denisgovako', 'vk': None, 'instagram': None, 'photo_path': None, 'document_paths': None}
  {'id': 2, 'user_id': None, 'first_name': 'Михаил', 'last_name': 'Квашнин', 'middle_name': 'Андреевич', 'email': 'kma@mail.ru', 'phone': '+7 888 999 77 44', 'photo_url': None, 'is_active': True, 'created_at': datetime.datetime(2025, 4, 15, 7, 9, 54, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 4, 15, 21, 30, 31, tzinfo=datetime.timezone.utc), 'description': None, 'organization_id': 1, 'primary_organization_id': None, 'location_id': 2, 'registration_address': None, 'actual_address': None, 'telegram_id': '@kvashnin', 'vk': None, 'instagram': None, 'photo_path': None, 'document_paths': None}

===== Таблица: staff_functions =====
Столбцы:
  - id (integer) NOT NULL
  - staff_id (integer) NOT NULL
  - function_id (integer) NOT NULL
  - is_supervisor (boolean) NULLABLE
  - description (text) NULLABLE
  - created_at (timestamp with time zone) NOT NULL
  - updated_at (timestamp with time zone) NOT NULL
  - commitment_percent (integer) NULLABLE
  - is_primary (integer) NULLABLE
  - date_from (date) NULLABLE
  - date_to (date) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
Количество записей: 0
Первичные ключи: id
Внешние ключи:
  - function_id -> functions.id
  - staff_id -> staff.id

===== Таблица: staff_locations =====
Столбцы:
  - id (integer) NOT NULL
  - staff_id (integer) NULLABLE
  - location_id (integer) NULLABLE
  - is_current (integer) NULLABLE
  - date_from (date) NULLABLE
  - date_to (date) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
  - created_at (timestamp without time zone) NULLABLE
  - updated_at (timestamp without time zone) NULLABLE
Количество записей: 0
Первичные ключи: id

===== Таблица: staff_positions =====
Столбцы:
  - id (integer) NOT NULL
  - staff_id (integer) NULLABLE
  - position_id (integer) NULLABLE
  - division_id (integer) NULLABLE
  - location_id (integer) NULLABLE
  - is_primary (integer) NULLABLE
  - is_active (integer) NULLABLE
  - start_date (date) NULLABLE
  - end_date (date) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_field3 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - extra_int2 (integer) NULLABLE
  - extra_date1 (date) NULLABLE
  - created_at (timestamp without time zone) NULLABLE
  - updated_at (timestamp without time zone) NULLABLE
Количество записей: 2
Первичные ключи: id
Примеры данных:
  {'id': 1, 'staff_id': 1, 'position_id': 18, 'division_id': None, 'location_id': None, 'is_primary': 1, 'is_active': 1, 'start_date': datetime.date(2023, 3, 14), 'end_date': None, 'extra_field1': None, 'extra_field2': None, 'extra_field3': None, 'extra_int1': None, 'extra_int2': None, 'extra_date1': None, 'created_at': datetime.datetime(2025, 4, 15, 17, 10, 2), 'updated_at': datetime.datetime(2025, 4, 15, 17, 10, 2)}
  {'id': 2, 'staff_id': 2, 'position_id': 18, 'division_id': None, 'location_id': None, 'is_primary': 1, 'is_active': 1, 'start_date': datetime.date(2023, 12, 12), 'end_date': None, 'extra_field1': None, 'extra_field2': None, 'extra_field3': None, 'extra_int1': None, 'extra_int2': None, 'extra_date1': None, 'created_at': datetime.datetime(2025, 4, 15, 17, 10, 2), 'updated_at': datetime.datetime(2025, 4, 15, 17, 10, 2)}

===== Таблица: unit_management =====
Столбцы:
  - id (integer) NOT NULL
  - position_id (integer) NULLABLE
  - managed_type (character varying) NULLABLE
  - managed_id (integer) NULLABLE
  - is_active (integer) NULLABLE
  - description (text) NULLABLE
  - extra_field1 (text) NULLABLE
  - extra_field2 (text) NULLABLE
  - extra_int1 (integer) NULLABLE
  - created_at (timestamp without time zone) NULLABLE
  - updated_at (timestamp without time zone) NULLABLE
Количество записей: 1
Первичные ключи: id
Примеры данных:
  {'id': 1, 'position_id': 2, 'managed_type': 'division', 'managed_id': 1, 'is_active': 1, 'description': 'Управление Департамент построения организации', 'extra_field1': None, 'extra_field2': None, 'extra_int1': None, 'created_at': datetime.datetime(2025, 4, 8, 17, 42, 43), 'updated_at': datetime.datetime(2025, 4, 8, 17, 42, 43)}

===== Таблица: user =====
Столбцы:
  - id (integer) NOT NULL
  - email (character varying) NOT NULL
  - full_name (character varying) NULLABLE
  - hashed_password (character varying) NOT NULL
  - is_active (boolean) NULLABLE
  - is_superuser (boolean) NULLABLE
  - created_at (timestamp without time zone) NULLABLE
  - updated_at (timestamp without time zone) NULLABLE
Количество записей: 1
Первичные ключи: id
Примеры данных:
  {'user': 'postgres'}


Последовательности (18):
  - staff_id_seq: текущее значение = 1
  - position_id_seq: текущее значение = 1
  - item_id_seq: текущее значение = 1
  - functional_relations_id_seq: текущее значение = 1
  - staff_functions_id_seq: текущее значение = 1
  - positions_id_seq: текущее значение = 1
  - division_sections_id_seq: текущее значение = 1
  - section_functions_id_seq: текущее значение = 1
  - staff_positions_id_seq: текущее значение = 1
  - staff_locations_id_seq: текущее значение = 1
  - hierarchy_relations_id_seq: текущее значение = 1
  - unit_management_id_seq: текущее значение = 1
  - functional_assignments_id_seq: текущее значение = 1
  - user_id_seq: текущее значение = 1
  - organizations_id_seq: текущее значение = 1
  - divisions_id_seq: текущее значение = 1
  - sections_id_seq: текущее значение = 1
  - functions_id_seq: текущее значение = 1


Текущая версия Alembic: 095344ece7d9

Соединение с базой данных закрыто.
